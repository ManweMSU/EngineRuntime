<html>
    <head>
        <meta charset="UTF-8">
        <title>Спецификация файлов проектов</title>
    </head>
    <body style="font-family: 'Courier New', Courier, monospace">
        <h1>Спецификация файлов проектов</h1>
        <i>
            Copyright &COPY; Engine Software, Емельянов Д. П. 2018.<br><br>
        </i>
        Файл проекта содержит необходимую информацию для сборки проектов.<br>
        Описание проекта хранится в виде текстового реестра.
        <h2>Сущности уровня корня</h2>
        <table>
            <tr>
                <td><b>CompileAt</b></td>
                <td>Строка. Обязательное поле. Содержит имя каталога (относительно папки файла проекта) с компилируемым кодом и ресурсами.</td>
            </tr>
            <tr>
                <td><b>CompileAll</b></td>
                <td>Логическое. Если истинно, то компилируются все файлы .c, .cpp, .cxx в каталоге CompileAt.</td>
            </tr>
            <tr>
                <td><b>CompileList</b></td>
                <td>Каталог. Если CompileAll = false, то вложенные значения-строки содержат имена файлов, подлежащих компиляции.</td>
            </tr>
            <tr>
                <td><b>OutputLocation</b></td>
                <td>Строка. Обязательное поле. Содержит имя каталога (относительно папки файла проекта) для вывода собранного проекта.</td>
            </tr>
            <tr>
                <td><b>OutputLocationWindows32</b></td>
                <td>Строка. Содержит подпапку для вывода при компиляции под 32-разрядный Windows.</td>
            </tr>
            <tr>
                <td><b>OutputLocationWindows64</b></td>
                <td>Строка. Содержит подпапку для вывода при компиляции под 64-разрядный Windows.</td>
            </tr>
            <tr>
                <td><b>OutputLocationMacOSX64</b></td>
                <td>Строка. Содержит подпапку для вывода при компиляции под 64-разрядный Mac OS X.</td>
            </tr>
            <tr>
                <td><b>OutputName</b></td>
                <td>Строка. Обязательное поле. Содержит имя исполняемого файла в каталоге вывода (без расширения).</td>
            </tr>
            <tr>
                <td><b>Subsystem</b></td>
                <td>Строка. Целевая подсистема. Console - приложение командной строки, GUI - графическое, Library - сборка динамической библиотеки, Object - только компиляция. Значение по умолчанию - Console.</td>
            </tr>
            <tr>
                <td><b>UseVersionDefines</b></td>
                <td>Логическое. Если истинно, то информация о версии приложения доступна в компилируемом коде через макросы<sup>1</sup>.</td>
			</tr>
			<tr>
                <td><b>Build64</b></td>
                <td>Логическое. Если истинно, то проект сразу собирается под 64-разрядную архитектуру.</td>
			</tr>
			<tr>
                <td><b>NoHiDPI</b></td>
                <td>Логическое. Если истинно, то графическая программа помечается как не поддерживающая экраны высокой чёткости.</td>
			</tr>
			<tr>
                <td><b>NoDockIcon</b></td>
                <td>Логическое. Если истинно, то приложение Mac OS X не будет иметь значка в Dock.</td>
            </tr>
            <tr>
                <td><b>VersionInformation/ApplicationName</b></td>
                <td>Строка. Имя приложения.</td>
            </tr>
            <tr>
                <td><b>VersionInformation/CompanyName</b></td>
                <td>Строка. Имя фирмы - производителя.</td>
            </tr>
            <tr>
                <td><b>VersionInformation/Copyright</b></td>
                <td>Строка. Заявление об авторских правах.</td>
            </tr>
            <tr>
                <td><b>VersionInformation/Version</b></td>
                <td>Строка. Версия приложения. 4 целых числа через точку.</td>
            </tr>
            <tr>
                <td><b>VersionInformation/InternalName</b></td>
                <td>Строка. Внутреннее имя исполняемого файла.</td>
            </tr>
            <tr>
                <td><b>VersionInformation/ApplicationIdentifier</b></td>
                <td>Строка. Идентификатор приложения.</td>
            </tr>
            <tr>
                <td><b>VersionInformation/CompanyIdentifier</b></td>
                <td>Строка. Идентификатор фирмы - производителя.</td>
            </tr>
            <tr>
                <td><b>VersionInformation/Description</b></td>
                <td>Строка. Описание приложения.</td>
            </tr>
            <tr>
                <td><b>ApplicationIcon</b></td>
                <td>Строка. Имя файла со значком приложение.</td>
            </tr>
            <tr>
                <td><b>Resources</b></td>
                <td>Каталог. Содержит перечисления встраиваемых ресурсов<sup>2</sup>.</td>
            </tr>
            <tr>
                <td><b>Attachments</b></td>
                <td>Каталог. Содержит перечисления сопровождающих ресурсов<sup>3</sup>.</td>
            </tr>
            <tr>
                <td><b>Attachments-Windows</b></td>
                <td>Каталог перечислений сопровождающих ресурсов<sup>3</sup> только для Windows.</td>
            </tr>
            <tr>
                <td><b>Attachments-Windows-x86</b></td>
                <td>Каталог перечислений сопровождающих ресурсов<sup>3</sup> только для 32-разрядных Windows.</td>
            </tr>
            <tr>
                <td><b>Attachments-Windows-x64</b></td>
                <td>Каталог перечислений сопровождающих ресурсов<sup>3</sup> только для 64-разрядных Windows.</td>
            </tr>
            <tr>
                <td><b>Attachments-MacOSX</b></td>
                <td>Каталог перечислений сопровождающих ресурсов<sup>3</sup> только для Mac OS X.</td>
            </tr>
            <tr>
                <td><b>Invoke</b></td>
                <td>Каталог перечислений вызовов внешних инструментов<sup>5</sup>.</td>
            </tr>
            <tr>
                <td><b>Include</b></td>
                <td>Содержит строки - пути к каталогам поиска заголовков.</td>
            </tr>
        </table>
        <h2>Структура манифеста команды</h2>
        <table>
            <tr>
                <td><b>Server</b></td>
                <td>Команда вызова исполняемого файла команды.</td>
            </tr>
            <tr>
                <td><b>VersionControl</b></td>
                <td>Логическое. Указывает, следует ли сравнивать версии исходного и выходного файла.</td>
            </tr>
            <tr>
                <td><b>CommandLine</b></td>
                <td>Каталог, поля в котором описывают аргументы командной строки команды<sup>6</sup>.</td>
            </tr>
        </table>
        <p><sup>1</sup> - система сборки определяет следующие макросы:
            <ul>
                <li><b>ENGINE_WINDOWS</b> при сбоке под Windows,</li>
                <li><b>ENGINE_UNIX</b> при сбоке под Unix-подобную систему,</li>
                <li><b>ENGINE_MACOSX</b> при сбоке под Mac OS X,</li>
                <li><b>ENGINE_X64</b> при построении 64-разрядной программы,</li>
                <li><b>ENGINE_SUBSYSTEM_CONSOLE</b> при построении консольной программы,</li>
				<li><b>ENGINE_SUBSYSTEM_GUI</b> при построении графической программы.</li>
				<li><b>ENGINE_SUBSYSTEM_LIBRARY</b> при построении динамической библиотеки.</li>
            </ul>
            Если UseVersionDefines истинно, то дополнительно определяются следующие макросы:
            <ul>
                <li><b>ENGINE_VI_APPNAME</b> - строка с именем программы из информации о версии,</li>
                <li><b>ENGINE_VI_COMPANY</b> - строка с фирмы-производителя программы из информации о версии,</li>
                <li><b>ENGINE_VI_COPYRIGHT</b> - строка с заявлением об авторских правах из информации о версии,</li>
                <li><b>ENGINE_VI_APPSYSNAME</b> - строка с внутреннем именем программы из информации о версии,</li>
                <li><b>ENGINE_VI_APPSHORTVERSION</b> - строка с первыми двумя числами из версии программы,</li>
                <li><b>ENGINE_VI_APPVERSION</b> - строка со всеми четырьмя числами из версии программы,</li>
                <li><b>ENGINE_VI_VERSIONMAJOR</b> - старшее число в версии программы,</li>
                <li><b>ENGINE_VI_VERSIONMINOR</b> - второе число в версии программы,</li>
                <li><b>ENGINE_VI_SUBVERSION</b> - третье число в версии программы,</li>
                <li><b>ENGINE_VI_BUILD</b> - младшее число в версии программы,</li>
                <li><b>ENGINE_VI_APPIDENT</b> - строка с идентификатором программы из информации о версии,</li>
                <li><b>ENGINE_VI_COMPANYIDENT</b> - строка с идентификатором фирмы-производителя программы из информации о версии,</li>
                <li><b>ENGINE_VI_DESCRIPTION</b> - строка с описанием программы из информации о версии.</li>
            </ul>
        </p>
        <p><sup>2</sup> - каталог встраиваемых ресурсов содержит:<br>
        - поля, имена которых интерпретируются как идентификаторы ресурсов, а значения как пути к файлу ресурсов.
        По умолчанию считается, что путь указан относительно папки с проектом. Если путь начинается с &lt;ObjPath&gt;,
        то на место данного выражения подставляется путь к каталогу вывода промежуточных файлов,
        путь интерпретируется иначе (для получения доступа к указанному файлу).<br>
        - каталоги, имена которых имеют вид записанных через дефис идентификаторов. Содержимое таких каталогов интерпретируется
        рекурсивно так же, как и главного каталога, но с ограничениями: если среди идентификаторов присутствует идентификатор из
        двух букв, то этот идентификатор интерпретируется как код языка, а вложенные ресурсы помечаются специфичными для этого языка;
        если среди идентификаторов присутствует идентификатор с именем операционной системы,
        то вложенные ресурсы помечаются специфичными для данной ОС.
        </p>
        <p><sup>3</sup> - каталог сопровождающих ресурсов содержит набор подкаталогов,
        каждый подкаталог описывает один ресурс посредством следующих полей:
        <ul>
            <li><b>From</b> - путь к исходному файлу. Интерпретируется аналогично пути ко встраиваемому ресурсу.</li>
            <li><b>To</b> - путь размещения сопровождающего ресурса относительно каталога с исполняемым файлом<sup>4</sup>.</li>
        </ul>
        </p>
        <p><sup>4</sup> - для графических программ Mac OS X исполняемым файлом считается файл в формате Mach-O внутри пакета, не сам пакет.
        </p>
        <p><sup>5</sup> - каталог вызовов внешних инструментов содержит набор строковых значений, каждое из которых задаёт команду вызова внешнего инструмента.</p>
    </body>
</html>